<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Python Flask CRUD Project</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
</head>
<body>

<h1 style="text-align: center">My Data</h1>

    <div class="container-fluid" style="height: auto;">
        <div class="row">
            <div class="col-sm-8 mx-auto">
      
                <table class="table table-striped">
                <tr>
                  <th>First-Name</th>
                  <th>Last-Name</th>
                  <th>Email</th>
                  <th>Designation</th>
                  <th>Total Experiance</th>
                  <th>Action</th>
                </tr>
                {% for row in students %}
                <tr>
                    <td>{{row.1}}</td>
                    <td>{{row.2}}</td>
                    <td>{{row.6}}</td>
                    <td>{{row.3}}</td>
                    <td>{{row.4}}</td>
                   <td>
                       <a href="/update/{{row.0}}" class="btn btn-warning btn-xs" data-toggle="modal" data-target="#editModal{{row.0}}">Edit</a>
                        <a href="/delete/{{row.0}}" class="btn btn-danger btn-xs" onclick="return confirm('Are You Sure For Delete?')">Delete</a>
                     </td>
                </tr>
                    <!-- Edit Employee Form - Start -->
                <div id="editModal{{row.0}}" class="modal fade" role="dialog">
                <div class="modal-dialog">
                <div class="modal-content">
                 <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                 </div>
                 <div class="modal-body">
                    <form action="{{ url_for('update') }}" method="POST">
                       <div class="form-group">
                          <label>First Name:</label>
                          <input type="hidden"  name="id" value="{{row.0}}">
                          <input type="text" class="form-control" name="firstname" value="{{row.1}}">
                       </div>
                        <div class="form-group">
                          <label>Last Name:</label>
                          <input type="text" class="form-control" name="lastname" value="{{row.2}}">
                       </div>
                        <div class="form-group">
                          <label>Email:</label>
                          <input type="text" class="form-control" name="email" value="{{row.6}}">
                       </div>
                        <div class="form-group">
                          <label>Designation:</label>
                          <input type="text" class="form-control" name="designation" value="{{row.3}}">
                       </div>
                        <div class="form-group">
                          <label>Total Experiance:</label>
                          <input type="text" class="form-control" name="total_exp" value="{{row.4}}">
                       </div>
                       <div class="form-group">
                          <!-- <button class="btn btn-primary" type="submit">Update Data</button> -->
                          <button type="submit" class="btn btn-primary" >Save changes</button>
                       </div>
                    </form>
                 </div>
                 
              </div>
           </div>
        </div>
                {% endfor  %}
                 </table>
            </div>

        </div>
        <div class="text-center">
            <!-- button type="button" class="btn btn-primary">Centered button</button> -->
            <button type="button" class="btn btn-success pull-right" data-toggle="modal" data-target ="#myModal"> Add Data</button>
          </div>
        
                </h2>
                <!-- Add Employee Form - Start -->
                <div id="myModal" class="modal fade" role="dialog">
                <div class="modal-dialog">
                <div class="modal-content">
                 <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                 </div>
                 <div class="modal-body">
                    <form action="{{ url_for('insert') }}" method="POST">
                       <div class="form-group">
                          <label>First Name:</label>
                          <input type="text" class="form-control" name="firstname" required="1">
                       </div>
                        <div class="form-group">
                          <label>Last Name:</label>
                          <input type="text" class="form-control" name="lastname" required="1">
                       </div>
                        <div class="form-group">
                          <label>Email:</label>
                          <input type="text" class="form-control" name="email" required="1">
                       </div>
                        <div class="form-group">
                          <label>Designation:</label>
                          <input type="text" class="form-control" name="designation" required="1">
                       </div>
                        <div class="form-group">
                          <label>Total Experiance:</label>
                          <input type="text" class="form-control" name="total_exp" required="1">
                       </div>
                       <div class="form-group">
                          <button class="btn btn-primary" type="submit">Insert Data</button>
                       </div>
                    </form>
                 </div>
          
              </div>
           </div>
        </div>
  


    </div>

</body>
</html>
